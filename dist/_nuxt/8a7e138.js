(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{514:function(t,e,n){"use strict";n.r(e);n(8),n(6),n(4),n(12),n(13);var c=n(2),o=n(25),r=(n(37),n(7),n(28),n(16),n(52),n(51),n(95),n(472));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"AllocatingPractice",components:{draggable:n.n(r).a},layout:"allocating",data:function(){return{colors:["primary","orange","teal","purple"],occupants:this.$store.getters["allocating/occupantsForPractice"],containers:this.$store.getters["allocating/containersForPractice"]}},fetch:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{},watch:{"$route.params.level":"$fetch"},created:function(){},methods:{unitMeasure:function(t){return 1===t.length?t.slice(0,1):2===t.length?t.slice(0,1)+"<sup>"+t.slice(1,2)+"</sup>":null},reset:function(){this.occupants.forEach((function(t){return t.count=t.initialCount})),this.containers.forEach((function(t){return t.occupants=[]}))},createCloneId:function(t,e){return"occupant-".concat(t.toString(),"-").concat(e.toString())},cloneCallback:function(t){if(t.count>0)return d(d({},t),{},{id:this.createCloneId(t.id,t.cloneId),originalId:t.id,count:1})},onChange:function(t){t.added?this.onAdded(t.added):t.removed&&this.onRemoved(t.removed)},moveCallback:function(t){if(t.to.classList.contains("allocated"))return t.draggedContext.element.unitSpace<=this.remainingSpace(t.relatedContext.component.$attrs.total,t.relatedContext.list)},onAdded:function(t){var e=this.occupants[t.element.originalId-1];e.count--,e.cloneId++},onRemoved:function(t){this.occupants[t.element.originalId-1].count++},remainingSpace:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;return 0===e.length?n=0:e.map((function(t){return n+=t.unitSpace})),t-n}}},f=n(68),v=n(112),h=n.n(v),C=n(189),y=n(427),_=n(504),w=n(505),O=n(47),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"my-2"},[n("v-col",{staticClass:"pr-0 py-0 text-center",attrs:{cols:"3"}},[n("draggable",{staticClass:"unallocated px-2",attrs:{list:t.occupants,group:{name:"occupant",pull:"clone",put:!1},move:t.moveCallback,clone:t.cloneCallback,sort:!1}},t._l(t.occupants,(function(e){return n("v-chip",{key:e.id,staticClass:"occupant pa-1 ma-1",attrs:{color:e.color,dark:""}},[t._v("\n          "+t._s(e.name)+":\n          "),n("span",{staticClass:"mx-2 text-h6 font-weight-bold white--text"},[t._v("\n            "+t._s(e.count)+"\n          ")])])})),1),t._v(" "),n("v-btn",{staticClass:"mt-2",attrs:{color:"red",dark:"",small:""},on:{click:function(e){return t.reset()}}},[t._v("Reset")])],1),t._v(" "),n("v-col",{staticClass:"pl-0 py-0",attrs:{cols:"9"}},t._l(t.containers,(function(e){return n("v-col",{key:e.id,staticClass:"py-1 pr-4",attrs:{cols:"12"}},[n("v-sheet",{attrs:{elevation:"10",rounded:""}},[n("v-sheet",{staticClass:"px-1 py-0 primary d-flex justify-space-between",attrs:{rounded:"",dark:""}},[n("span",{staticClass:"mx-2",staticStyle:{"font-size":"0.75rem"}},[t._v(t._s(t._f("capitalize")(e.name,!0)))]),t._v(" "),n("span",{staticClass:"mr-6",staticStyle:{"font-size":"0.75rem"}},[t._v("Remaining Space:\n              "),n("span",{staticClass:"ml-2 yellow--text"},[e.occupants.length>0?[t._v("\n                  "+t._s(t.remainingSpace(e.unitSpace,e.occupants))+"\n                ")]:[t._v("\n                  "+t._s(e.unitSpace)+"\n                ")],t._v(" "),n("span",{domProps:{innerHTML:t._s(t.unitMeasure(e.measuringUnit))}})],2)])]),t._v(" "),n("draggable",{staticClass:"allocated pa-1",staticStyle:{"min-width":"100px","min-height":"20px"},attrs:{list:e.occupants,group:{name:"occupant"},sort:!1,move:t.moveCallback,total:e.unitSpace},on:{change:t.onChange}},t._l(e.occupants,(function(e){return n("v-chip",{key:e.id,staticClass:"pa-1 ma-1",attrs:{color:e.color,small:"",dark:""}},[t._v("\n              "+t._s(e.name.split(" ")[0])+"\n            ")])})),1)],1)],1)})),1)],1)],1)}),[],!1,null,"a38e60ec",null);e.default=component.exports;h()(component,{VBtn:C.a,VChip:y.a,VCol:_.a,VRow:w.a,VSheet:O.a})}}]);